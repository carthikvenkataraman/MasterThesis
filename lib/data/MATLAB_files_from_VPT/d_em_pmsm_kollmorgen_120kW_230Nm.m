function em = d_em_pmsm_kollmorgen_120kW_230Nm

%==========================================================================
% Description: initialize a 120-kW Permanant Magnet Synchronous Motor from Kollmorgen.
%
% Filename:                         d_em_pmsm_kollmorgen_120kW_230Nm.m
% Author:                           Bertrand Molimard, 91554
% Date:                             2011-02-15
%
% Info: - intended to be used with ExSAM topology.
%       - preliminary data. Original map from Remy.
% 
% Syntax: - em=d_em_pmsm_kollmorgen_120kW_230Nm;
%==========================================================================

em.compInfo='Electric Machine 120 kW Kollmorgen';
em.versionInfo.file_name='%PM%';
em.versionInfo.file_version='%PR%';

% Characteristics *********************************************************
em.rotorInertia         = 0.069;	  % EM inertia [kgm^2]

% Losses ******************************************************************
% Load loss data (losses includes EM and inverter)
em.motorMapSpeed_x=[500:500:10000]';
em.motorMapTorque_y=[-260:20:260];
em.motorMapEfficiency_z=...
   [0.6070    0.6220    0.6970    0.7270    0.7441    0.7606    0.7889    0.8037    0.8166    0.8467    0.8599    0.8699    0.8517         0    0.8559    0.8769    0.8758    0.8558    0.8424    0.8344    0.8151    0.8062    0.7967    0.7915    0.7863    0.7810    0.7758
    0.7862    0.7862    0.8368    0.8532    0.8611    0.8688    0.8796    0.8869    0.8912    0.9066    0.9122    0.9135    0.8697         0    0.8760    0.9081    0.9149    0.9064    0.8972    0.8954    0.8862    0.8819    0.8771    0.8741    0.8711    0.8681    0.8651
    0.8511    0.8511    0.8840    0.8942    0.8992    0.9036    0.9088    0.9125    0.9146    0.9256    0.9288    0.9273    0.8748         0    0.8818    0.9184    0.9282    0.9231    0.9157    0.9167    0.9112    0.9094    0.9067    0.9048    0.9028    0.9009    0.8990
    0.8829    0.8829    0.9068    0.9140    0.9174    0.9205    0.9224    0.9242    0.9253    0.9344    0.9366    0.9335    0.8764         0    0.8842    0.9231    0.9343    0.9321    0.9249    0.9269    0.9239    0.9233    0.9219    0.9205    0.9191    0.9177    0.9163
    0.9014    0.9014    0.9201    0.9254    0.9278    0.9298    0.9297    0.9320    0.9313    0.9392    0.9409    0.9371    0.8768         0    0.8850    0.9254    0.9378    0.9367    0.9303    0.9328    0.9315    0.9313    0.9307    0.9297    0.9286    0.9276    0.9266
    0.9133    0.9133    0.9286    0.9326    0.9345    0.9361    0.9347    0.9347    0.9346    0.9418    0.9434    0.9389    0.8766         0    0.8850    0.9267    0.9397    0.9394    0.9329    0.9363    0.9365    0.9365    0.9363    0.9355    0.9348    0.9341    0.9333
    0.9214    0.9214    0.9343    0.9374    0.9388    0.9399    0.9371    0.9382    0.9368    0.9440    0.9450    0.9400    0.8756         0    0.8845    0.9271    0.9409    0.9411    0.9342    0.9385    0.9392    0.9398    0.9400    0.9394    0.9389    0.9384    0.9378
    0.9263    0.9263    0.9383    0.9408    0.9418    0.9426    0.9393    0.9401    0.9380    0.9449    0.9459    0.9407    0.8746         0    0.8838    0.9273    0.9417    0.9412    0.9348    0.9399    0.9410    0.9421    0.9427    0.9423    0.9419    0.9415    0.9411
    0.9263    0.9263    0.9385    0.9423    0.9442    0.9438    0.9407    0.9412    0.9388    0.9452    0.9464    0.9408    0.8734         0    0.8827    0.9272    0.9417    0.9420    0.9350    0.9408    0.9410    0.9426    0.9436    0.9428    0.9420    0.9412    0.9404
    0.9263    0.9263    0.9298    0.9392    0.9416    0.9426    0.9413    0.9368    0.9385    0.9460    0.9466    0.9407    0.8716         0    0.8815    0.9267    0.9419    0.9411    0.9359    0.9331    0.9411    0.9409    0.9398    0.9304    0.9234    0.9200    0.9200
    0.9200    0.9236    0.9273    0.9309    0.9345    0.9393    0.9410    0.9388    0.9342    0.9439    0.9465    0.9405    0.8700         0    0.8800    0.9261    0.9418    0.9369    0.9309    0.9357    0.9374    0.9365    0.9301    0.9276    0.9251    0.9225    0.9200
         0    0.9200    0.9228    0.9256    0.9284    0.9312    0.9355    0.9356    0.9332    0.9401    0.9440    0.9401    0.8678         0    0.8785    0.9253    0.9414    0.9286    0.9281    0.9293    0.9326    0.9295    0.9263    0.9232    0.9200         0         0
         0    0.9200    0.9201    0.9203    0.9204    0.9205    0.9316    0.9280    0.9264    0.9334    0.9414    0.9396    0.8659         0    0.8768    0.9244    0.9401    0.9161    0.9185    0.9239    0.9230    0.9223    0.9215    0.9208    0.9200         0         0
         0         0         0    0.9200    0.9215    0.9230    0.9245    0.9260    0.9197    0.9226    0.9377    0.9379    0.8634         0    0.8749    0.9234    0.9356    0.9130    0.9200    0.9214    0.9211    0.9207    0.9204    0.9200         0         0         0
         0         0         0    0.9200    0.9205    0.9210    0.9215    0.9220    0.9200    0.9170    0.9335    0.9353    0.8612         0    0.8729    0.9212    0.9304    0.9013    0.9200    0.9200    0.9200    0.9200    0.9200         0         0         0         0
         0         0         0         0    0.9200    0.9200    0.9200    0.9200    0.9200    0.9119    0.9250    0.9311    0.8584         0    0.8720    0.9186    0.9246    0.9200    0.9200    0.9200    0.9200    0.9200         0         0         0         0         0
         0         0         0         0    0.9200    0.9200    0.9200    0.9200    0.9200    0.9047    0.9178    0.9260    0.8566         0    0.8691    0.9149    0.9175    0.9200    0.9200    0.9200    0.9200    0.9200         0         0         0         0         0
         0         0         0         0         0    0.9200    0.9200    0.9200    0.9200    0.9200    0.9121    0.9204    0.8537         0    0.8650    0.9110    0.9142    0.9200    0.9200    0.9200    0.9200    0.9200         0         0         0         0         0
         0         0         0         0         0    0.9200    0.9200    0.9200    0.9200    0.9200    0.9054    0.9168    0.8486         0    0.8609    0.9077    0.9200    0.9200    0.9200    0.9200    0.9200    0.9200         0         0         0         0         0
         0         0         0         0         0         0    0.9200    0.9200    0.9200    0.9200    0.9200    0.9150    0.8427         0    0.8552    0.9036    0.9200    0.9200    0.9200    0.9200    0.9200         0         0         0         0         0         0];
     
% Data calculated from effeciency matrix
em.motorMapLoss_z=1.0e+004* ...
   [0.5350    0.4750    0.3490    0.2859    0.2412    0.2006    0.1547    0.1233    0.0960    0.0642    0.0440    0.0272    0.0155    0.0000    0.0151    0.0258    0.0390    0.0604    0.0825    0.1040    0.1355    0.1624    0.1916    0.2183    0.2462    0.2752    0.3052
    0.5821    0.5373    0.3760    0.3075    0.2618    0.2198    0.1765    0.1421    0.1139    0.0782    0.0552    0.0362    0.0273    0.0001    0.0260    0.0385    0.0535    0.0784    0.1077    0.1314    0.1668    0.1979    0.2317    0.2637    0.2970    0.3315    0.3673
    0.6081    0.5613    0.4009    0.3324    0.2850    0.2423    0.2006    0.1649    0.1341    0.0935    0.0671    0.0457    0.0393    0.0002    0.0371    0.0513    0.0677    0.0966    0.1324    0.1570    0.1953    0.2277    0.2638    0.2991    0.3359    0.3736    0.4125
    0.6377    0.5886    0.4294    0.3602    0.3114    0.2664    0.2275    0.1905    0.1565    0.1099    0.0797    0.0557    0.0518    0.0004    0.0485    0.0644    0.0826    0.1138    0.1573    0.1837    0.2231    0.2570    0.2944    0.3330    0.3728    0.4137    0.4558
    0.6711    0.6195    0.4602    0.3906    0.3402    0.2941    0.2577    0.2136    0.1799    0.1273    0.0928    0.0659    0.0645    0.0006    0.0602    0.0781    0.0977    0.1326    0.1825    0.2111    0.2511    0.2878    0.3266    0.3681    0.4112    0.4549    0.4996
    0.7082    0.6537    0.4935    0.4235    0.3704    0.3212    0.2872    0.2462    0.2055    0.1463    0.1067    0.0768    0.0775    0.0009    0.0723    0.0921    0.1137    0.1523    0.2108    0.2401    0.2793    0.3192    0.3602    0.4053    0.4506    0.4969    0.5448
    0.7490    0.6914    0.5298    0.4589    0.4038    0.3524    0.3228    0.2718    0.2316    0.1642    0.1210    0.0880    0.0912    0.0012    0.0847    0.1069    0.1300    0.1727    0.2412    0.2705    0.3120    0.3530    0.3958    0.4442    0.4927    0.5419    0.5927
    0.8027    0.7409    0.5686    0.4960    0.4388    0.3847    0.3560    0.3011    0.2597    0.1846    0.1360    0.0994    0.1051    0.0015    0.0973    0.1218    0.1465    0.1970    0.2731    0.3021    0.3460    0.3880    0.4320    0.4834    0.5354    0.5881    0.6415
    0.9030    0.8335    0.6376    0.5438    0.4733    0.4237    0.3912    0.3325    0.2884    0.2066    0.1516    0.1116    0.1193    0.0019    0.1106    0.1372    0.1648    0.2187    0.3063    0.3348    0.3892    0.4328    0.4784    0.5391    0.6013    0.6650    0.7302
    1.0033    0.9261    0.8086    0.6367    0.5504    0.4809    0.4303    0.3971    0.3220    0.2262    0.1678    0.1242    0.1345    0.0024    0.1241    0.1535    0.1825    0.2467    0.3356    0.4203    0.4318    0.4951    0.5674    0.7288    0.8824    1.0053    1.0891
    1.1980    1.0561    0.9212    0.7960    0.6791    0.5594    0.4757    0.4230    0.3790    0.2585    0.1849    0.1371    0.1497    0.0029    0.1382    0.1703    0.2011    0.2907    0.3980    0.4444    0.5048    0.5852    0.7247    0.8340    0.9491    1.0713    1.1980
         0    1.2064    1.0671    0.9349    0.8098    0.6917    0.5674    0.4856    0.4197    0.3011    0.2111    0.1505    0.1661    0.0034    0.1527    0.1877    0.2209    0.3589    0.4518    0.5331    0.5929    0.7087    0.8335    0.9651    1.1058         0         0
         0    1.3069    1.1965    1.0850    0.9753    0.8658    0.6518    0.5881    0.5010    0.3627    0.2393    0.1645    0.1826    0.0040    0.1677    0.2058    0.2446    0.4569    0.5548    0.6216    0.7338    0.8462    0.9618    1.0782    1.1980         0         0
         0         0         0    1.1729    1.0358    0.9031    0.7748    0.6509    0.5886    0.4539    0.2740    0.1821    0.2003    0.0046    0.1834    0.2246    0.2832    0.5102    0.5864    0.6914    0.8097    0.9301    1.0503    1.1729         0         0         0
         0         0         0    1.2566    1.1239    0.9927    0.8632    0.7351    0.6283    0.5215    0.3134    0.2033    0.2180    0.0053    0.1996    0.2476    0.3280    0.6202    0.6283    0.7540    0.8796    1.0053    1.1310         0         0         0         0
         0         0         0         0    1.2064    1.0723    0.9383    0.8042    0.6702    0.5905    0.3770    0.2309    0.2373    0.0060    0.2145    0.2728    0.3790    0.5362    0.6702    0.8042    0.9383    1.0723         0         0         0         0         0
         0         0         0         0    1.2818    1.1394    0.9969    0.8545    0.7121    0.6786    0.4390    0.2635    0.2553    0.0067    0.2330    0.3030    0.4406    0.5697    0.7121    0.8545    0.9969    1.1394         0         0         0         0         0
         0         0         0         0         0    1.2064    1.0556    0.9048    0.7540    0.6032    0.4971    0.3001    0.2758    0.0075    0.2545    0.3355    0.4852    0.6032    0.7540    0.9048    1.0556    1.2064         0         0         0         0         0
         0         0         0         0         0    1.2734    1.1142    0.9550    0.7959    0.6367    0.5647    0.3311    0.3012    0.0084    0.2768    0.3673    0.4775    0.6367    0.7959    0.9550    1.1142    1.2734         0         0         0         0         0
         0         0         0         0         0         0    1.1729    1.0053    0.8378    0.6702    0.5027    0.3560    0.3294    0.0093    0.3033    0.4038    0.5027    0.6702    0.8378    1.0053    1.1729         0         0         0         0         0         0
         ];

em.inverterEfficiency   = 1;        % Set inverter loss to zero since included above
